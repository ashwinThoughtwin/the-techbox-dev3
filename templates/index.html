
{% extends "layouts/base.html" %}

{% load i18n %}

{% block title %} Dashboard {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

{% if request.user.is_authenticated %}
<script>
    {% if messages %}
        {% for message in messages %}
                            
            alert('{{ message }}');
                           
        {% endfor %}

    {% endif %}
</script>
<div class="content">
	<div class="panel-header bg-primary-gradient">
		<div class="page-inner py-3">
			<div class="d-flex align-items-left align-items-md-center flex-column flex-md-row">
				<div class="ml-md-auto py-2 py-md-0">
					<a href="/emplist/" class="btn btn-white btn-border btn-round mr-2">{% trans 'Manage' %}</a>
					<button class="btn btn-secondary btn-round mr-2" data-target="#newempdata" data-toggle="modal">{% trans 'Add Employee' %}</button>
					<a href="{% url 'purchase' %}"><button class="btn btn-primary btn-round">{% trans 'Donate' %}</button></a>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<!-- Total Available Tools Card Example -->
		<div class="col-xl-3 col-md-6 mb-4 pl-4 pt-4">
			<div class="card border-left-primary shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
								{% trans 'Total Employees' %}</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{ emp }}</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-address-card fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-md-6 mb-4 pl-4 pt-4">
			<div class="card border-left-success shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
								{% trans 'Total Items' %}</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{ item_count }}</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-keyboard fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-md-6 mb-4 pl-4 pt-4">
			<div class="card border-left-success shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-danger text-uppercase mb-1">
								{% trans 'Assign Items' %}</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{assign_item}}</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-keyboard fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-md-6 mb-4 pl-4 pt-4">
			<div class="card border-left-success shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-secondary text-uppercase mb-1">
								{% trans 'Available Items' %}</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{avilable}}</div>
						</div>
						
						<div class="col-auto">
							<i class="fas fa-keyboard fa-2x text-gray-300"></i>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endif %}
<div class="modal fade" id="newempdata" tabindex="-1" role="dialog"
                                 aria-labelledby="newempdataTitle" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header text-light">
                                            <h5 class="modal-title text text-info" id="newempdataTitle">{% trans 'Add Employee' %}</h5>
                                            <button type="button" class="close text-light" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <form method='post' action="{% url 'home' %}">
											{% csrf_token %}
											<div class="modal-body">
                                            <div id="tool-form">
                                                {{ form.as_p }}
                                                <br>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">{% trans 'Close' %}
                                            </button>
                                            <button type="submit" class="btn btn-primary" id="emp-btn">{% trans 'Submit' %}</button></a>
                                        </div>
										</form>
                                    </div>
                                </div>
                            </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<!-- Atlantis DEMO methods, don't include it in your project! -->
<script src="/static/assets/js/setting-demo.js"></script>
<script src="/static/assets/js/demo.js"></script>

<script>
	Circles.create({
		id: 'circles-1',
		radius: 45,
		value: 60,
		maxValue: 100,
		width: 7,
		text: 5,
		colors: ['#f1f1f1', '#FF9E27'],
		duration: 400,
		wrpClass: 'circles-wrp',
		textClass: 'circles-text',
		styleWrapper: true,
		styleText: true
	})

	Circles.create({
		id: 'circles-2',
		radius: 45,
		value: 70,
		maxValue: 100,
		width: 7,
		text: 36,
		colors: ['#f1f1f1', '#2BB930'],
		duration: 400,
		wrpClass: 'circles-wrp',
		textClass: 'circles-text',
		styleWrapper: true,
		styleText: true
	})

	Circles.create({
		id: 'circles-3',
		radius: 45,
		value: 40,
		maxValue: 100,
		width: 7,
		text: 12,
		colors: ['#f1f1f1', '#F25961'],
		duration: 400,
		wrpClass: 'circles-wrp',
		textClass: 'circles-text',
		styleWrapper: true,
		styleText: true
	})

	var totalIncomeChart = document.getElementById('totalIncomeChart').getContext('2d');

	var mytotalIncomeChart = new Chart(totalIncomeChart, {
		type: 'bar',
		data: {
			labels: ["S", "M", "T", "W", "T", "F", "S", "S", "M", "T"],
			datasets: [{
				label: "Total Income",
				backgroundColor: '#ff9e27',
				borderColor: 'rgb(23, 125, 255)',
				data: [6, 4, 9, 5, 4, 6, 4, 3, 8, 10],
			}],
		},
		options: {
			responsive: true,
			maintainAspectRatio: false,
			legend: {
				display: false,
			},
			scales: {
				yAxes: [{
					ticks: {
						display: false //this will remove only the label
					},
					gridLines: {
						drawBorder: false,
						display: false
					}
				}],
				xAxes: [{
					gridLines: {
						drawBorder: false,
						display: false
					}
				}]
			},
		}
	});

	$('#lineChart').sparkline([105, 103, 123, 100, 95, 105, 115], {
		type: 'line',
		height: '70',
		width: '100%',
		lineWidth: '2',
		lineColor: '#ffa534',
		fillColor: 'rgba(255, 165, 52, .14)'
	});
</script>

{% endblock javascripts %}